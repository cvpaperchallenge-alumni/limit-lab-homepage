name: limit-lab-homepage
services:
  frontend:
    build:
      args:
        - PROJECT_NAME=${PROJECT_NAME_ENV}
        - SERVICE_NAME=frontend
        - USER_NAME=${USER_NAME_ENV}
        - GROUP_NAME=${GROUP_NAME_ENV}
        - UID=${HOST_UID-1000}
        - GID=${HOST_GID-1000}
      context: ../../
      dockerfile: environments/Dockerfile
    tty: true
    init: true
    volumes:
      - ../../:/home/${USER_NAME_ENV}/${PROJECT_NAME_ENV}-frontend
    ports:
      - 3000:3000

  terraform:
    build:
      context: ../../
      dockerfile: environments/Dockerfile.terraform
    tty: true
    entrypoint: bash
    volumes:
      - ../../:/home/limit-lab-homepage